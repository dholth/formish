<%page args="field" />

<table id="${field.cssname}">
  <thead>
    <tr>
% for k,v in field.attr.attr.attrs:
      <th>${k}</th>
% endfor
    </tr>
  </thead>
  
<%
if len(field.value) <2:
    rows = 2
else:
    rows = len(field.value)
%>


% for row in xrange(rows):
  <tr>
%   for k,v in field.attr.attr.attrs:
%     if row > len(field.value)-1:
<td><input type="text" name="${field.name}.${row}.${k}" /></td>
%     else:
<td><input type="text" name="${field.name}.${row}.${k}" value="${field.value[row][k][0]}" /></td>
%     endif
%   endfor
  </tr>
% endfor

</table>
